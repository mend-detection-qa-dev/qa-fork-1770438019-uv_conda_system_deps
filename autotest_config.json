{
    "description": "Autotest configuration file for dependency tree detection validation",
    "version": 1.1,
    "base_config": {
        "validate_scan_output": true,
        "_comment_validate_scan_output": "Whether to validate the scan output/exit code. Options: true | false. Default: true",
        "scan_output": {
            "_security_scan_report_conclusion": "failure",
            "_comment_security_scan_report_conclusion": "Optional. Expected scan report conclusion. Options: 'success' | 'failure'. This validates the security scan result status. If not provided, this check will not be performed.",
            "total_libs_scanned": {
                "gte": 25
            },
            "_comment_total_libs_scanned": "Expected number of libraries scanned with comparison operator. Validates that the scan processed libraries."
        },
        "validate_dependency_tree": true,
        "_comment_validate_dependency_tree": "Whether to validate the dependency tree. Options: true | false. Default: true",
        "dependency_tree": {
            "check_dependency_tree_detection_status": true,
            "_comment_check_dependency_tree_detection_status": "Whether to check if dependency tree was successfully detected. Options: true | false. Default: true",
            "expected_total_dependencies_number": {
                "gte": 25
            },
            "expected_direct_dependencies_number": {
                "gte": 25
            },
            "expected_transitive_dependencies_number": {
                "gte": 30
            },
            "_comment_expected_dependencies_number": "Optional. Expected number of dependencies with comparison operator. Operators: gt (>), gte (>=), lt (<), lte (<=), eq (==). If not provided, this check will not be performed.",
             "direct_dependencies_names_list": {
      "contains": [
          "python",
          "cudatoolkit",
          "cudnn",
          "mkl",
          "mkl-include",
          "hdf5",
          "libpng",
          "libjpeg-turbo",
          "zlib",
          "torch",
          "torchvision",
          "torchaudio",
          "numpy",
          "pandas",
          "scipy",
          "scikit-learn",
          "xgboost",
          "lightgbm",
          "h5py",
          "tables",
          "pillow",
          "opencv-python",
          "matplotlib",
          "seaborn",
          "tqdm",
          "python-dotenv"
      ]
  },
            "transitive_dependencies_names_list": {
                "contains": [
                    "nvidia-curand-cu12",
                    "matplotlib",
                    "nvidia-cublas-cu12",
                    "markupsafe",
                    "fsspec",
                    "pyparsing",
                    "contourpy",
                    "ndindex",
                    "nvidia-nvshmem-cu12",
                    "urllib3",
                    "mpmath",
                    "python-dateutil",
                    "nvidia-nvjitlink-cu12",
                    "nvidia-cuda-cupti-cu12",
                    "numpy",
                    "nvidia-cudnn-cu12",
                    "platformdirs",
                    "tzdata",
                    "blosc2",
                    "packaging",
                    "nvidia-cusparselt-cu12",
                    "sympy",
                    "idna",
                    "torch",
                    "networkx",
                    "nvidia-cuda-nvrtc-cu12",
                    "requests",
                    "msgpack",
                    "nvidia-cufile-cu12",
                    "scipy",
                    "certifi",
                    "nvidia-cusolver-cu12",
                    "pillow",
                    "pandas",
                    "py-cpuinfo",
                    "six",
                    "pytz",
                    "kiwisolver",
                    "numexpr",
                    "filelock",
                    "nvidia-cusparse-cu12",
                    "cycler",
                    "joblib",
                    "triton",
                    "nvidia-nccl-cu12",
                    "typing-extensions",
                    "charset-normalizer",
                    "nvidia-cuda-runtime-cu12",
                    "nvidia-cufft-cu12",
                    "fonttools",
                    "threadpoolctl",
                    "nvidia-nvtx-cu12",
                    "jinja2"
                ]
            },
            "_comment_dependencies_names_list": "Optional. Check specific libraries in direct dependencies. Operators: eq (==), contains (all items from expected list in actual), in(all items from actual list in expected), nin(actual list does not contain provided libs). If not provided, this check will not be performed.",
            "validate_agent_versions": true,
            "expected_agent_version": "",
            "expected_plugin_version": "",
            "_comment_agent_versions": "Optional. Expected agent and plugin versions. If not provided, this check will not be performed."
        },
        "validate_vulnerabilities_table": true,
        "_comment_validate_vulnerabilities_table": "Whether to validate the vulnerabilities table. Options: true | false. Default: true",
        "vulnerabilities_table": {
            "check_vulnerabilities_table_structure": true,
            "expected_total_vulnerabilities_number": {
                "gte": 0
            },
            "vulnerabilities_ids_list": {
                "contains": []
            },
            "_comment_ids_names_list": "Optional. Check specific libs ids (WS-2018-0111, CVE-2021-44906). Operators: eq (==), contains (all items from expected list in actual), in(all items from actual list in expected), nin(actual list does not contain provided libs). If not provided, this check will not be performed.",
            "vulnerabilities_names_list": {
                "contains": []
            },
            "_comment_vulnerabilities_names_list": "Optional. Check specific libs names (minimist-0.0.8.tgz). Operators: eq (==), contains (all items from expected list in actual), in(all items from actual list in expected), nin(actual list does not contain provided libs). If not provided, this check will not be performed."
        },
        "validate_scanner_logs": true,
    "logs": {
      "check_scanner_logs": true,
      "_comment_check_scanner_logs": "Whether to check scanner logs and attach them to Report Portal. Options: true | false. Default: true",
      "expected_log_lines": [
        {
          "operator": "eq",
          "value": "Will apply conda activation for UV sync"
        },
        {
          "operator": "regex",
          "value": "Conda environment created successfully at /tmp/ws-scm/.*/\\.venv"
        }
      ],
      "_comment_expected_log_lines": "Optional. List of log lines to validate. Each entry should have an \u0027operator\u0027 (eq or regex) and \u0027value\u0027 (string or regex pattern). Example: [{\u0027operator\u0027: \u0027eq\u0027, \u0027value\u0027: \u0027Python version: 3.11\u0027}, {\u0027operator\u0027: \u0027regex\u0027, \u0027value\u0027: \u0027Python version: \\d+\\.\\d+\u0027}]. If not provided, only log attachment will be performed."
    }
    }
}
